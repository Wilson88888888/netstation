import{j}from"./jsx-runtime.CRkqtJS5.js";import{r as p,R}from"./index.B52nOzfP.js";/*!
 * react-paypal-js v8.6.0 (2024-08-27T17:57:57.800Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(l||(l={}));var f;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(f||(f={}));var x;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(x||(x={}));var i=function(){return i=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},i.apply(this,arguments)};function k(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function B(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var A="data-react-paypal-script-id",S={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},z="Failed to load the PayPal JS SDK script.",K="paypal",Q="usePayPalScriptReducer must be used within a PayPalScriptProvider";function Y(e){return e===void 0&&(e=K),window[e]}function $(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function H(e){var t=e.reactComponentName,r=e.sdkComponentKey,n=e.sdkRequestedComponents,o=n===void 0?"":n,a=e.sdkDataNamespace,s=a===void 0?K:a,u=r.charAt(0).toUpperCase().concat(r.substring(1)),c="Unable to render <".concat(t," /> because window.").concat(s,".").concat(u," is undefined."),d=typeof o=="string"?o:o.join(",");if(!d.includes(r)){var v=[d,r].filter(Boolean).join();c+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(v,"'}}>`.")}return c}function G(e){var t=e,r=A;t[r];var n=k(t,[r+""]);return"react-paypal-js-".concat($(JSON.stringify(n)))}function ee(e){var t=self.document.querySelector("script[".concat(A,'="').concat(e,'"]'));t?.parentNode&&t.parentNode.removeChild(t)}function te(e,t){var r,n;switch(t.type){case f.LOADING_STATUS:return typeof t.value=="object"?i(i({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):i(i({},e),{loadingStatus:t.value});case f.RESET_OPTIONS:return ee(e.options[A]),i(i({},e),{loadingStatus:l.PENDING,options:i(i((r={},r[S.DATA_SDK_INTEGRATION_SOURCE]=S.DATA_LIBRARY_VALUE,r),t.value),(n={},n[A]="".concat(G(t.value)),n))});case f.SET_BRAINTREE_INSTANCE:return i(i({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var q=p.createContext(null);function re(e){if(typeof e?.dispatch=="function"&&e.dispatch.length!==0)return e;throw new Error(Q)}function ne(){var e=re(p.useContext(q)),t=i(i({},e),{isInitial:e.loadingStatus===l.INITIAL,isPending:e.loadingStatus===l.PENDING,isResolved:e.loadingStatus===l.RESOLVED,isRejected:e.loadingStatus===l.REJECTED});return[t,e.dispatch]}p.createContext({});var _=function(e){var t,r=e.className,n=r===void 0?"":r,o=e.disabled,a=o===void 0?!1:o,s=e.children,u=e.forceReRender,c=u===void 0?[]:u,d=k(e,["className","disabled","children","forceReRender"]),v=a?{opacity:.38}:{},g="".concat(n," ").concat(a?"paypal-buttons-disabled":"").trim(),b=p.useRef(null),E=p.useRef(null),w=ne()[0],O=w.isResolved,N=w.options,C=p.useState(null),y=C[0],J=C[1],D=p.useState(!0),W=D[0],F=D[1],X=p.useState(null),I=X[1];function h(){E.current!==null&&E.current.close().catch(function(){})}return!((t=E.current)===null||t===void 0)&&t.updateProps&&E.current.updateProps({message:d.message}),p.useEffect(function(){if(O===!1)return h;var T=Y(N.dataNamespace);if(T===void 0||T.Buttons===void 0)return I(function(){throw new Error(H({reactComponentName:_.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[S.DATA_NAMESPACE]}))}),h;var Z=function(m,P){J(P),typeof d.onInit=="function"&&d.onInit(m,P)};try{E.current=T.Buttons(i(i({},d),{onInit:Z}))}catch(m){return I(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(m))})}return E.current.isEligible()===!1?(F(!1),h):(b.current&&E.current.render(b.current).catch(function(m){b.current===null||b.current.children.length===0||I(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(m))})}),h)},B(B([O],c,!0),[d.fundingSource],!1)),p.useEffect(function(){y!==null&&(a===!0?y.disable().catch(function(){}):y.enable().catch(function(){}))},[a,y]),R.createElement(R.Fragment,null,W?R.createElement("div",{ref:b,style:v,className:g}):s)};_.displayName="PayPalButtons";function ae(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=M(e,t),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(n.dataset).length)return null;var a=!0;return Object.keys(o.dataset).forEach(function(s){o.dataset[s]!==n.dataset[s]&&(a=!1)}),a?r:null}function oe(e){var t=e.url,r=e.attributes,n=e.onSuccess,o=e.onError,a=M(t,r);a.onerror=o,a.onload=n,document.head.insertBefore(a,document.head.firstElementChild)}function ie(e){var t=e.environment,r=t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js";delete e.environment,e.sdkBaseUrl&&(r=e.sdkBaseUrl,delete e.sdkBaseUrl);var n=e,o=Object.keys(n).filter(function(u){return typeof n[u]<"u"&&n[u]!==null&&n[u]!==""}).reduce(function(u,c){var d=n[c].toString();return c=ce(c),c.substring(0,4)==="data"||c==="crossorigin"?u.attributes[c]=d:u.queryParams[c]=d,u},{queryParams:{},attributes:{}}),a=o.queryParams,s=o.attributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(s["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(r,"?").concat(se(a)),attributes:s}}function ce(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function se(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function M(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function ue(e,t){if(t===void 0&&(t=Promise),V(e,t),typeof document>"u")return t.resolve(null);var r=ie(e),n=r.url,o=r.attributes,a=o["data-namespace"]||"paypal",s=U(a);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),ae(n,o)&&s?t.resolve(s):de({url:n,attributes:o},t).then(function(){var u=U(a);if(u)return u;throw new Error("The window.".concat(a," global variable is not available."))})}function de(e,t){t===void 0&&(t=Promise),V(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(o,a){if(typeof document>"u")return o();oe({url:r,attributes:n,onSuccess:function(){return o()},onError:function(){var s=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return a(s)}})})}function U(e){return window[e]}function V(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var le=function(e){var t,r=e.options,n=r===void 0?{clientId:"test"}:r,o=e.children,a=e.deferLoading,s=a===void 0?!1:a,u=p.useReducer(te,{options:i(i({},n),(t={},t[S.DATA_JS_SDK_LIBRARY]=S.DATA_LIBRARY_VALUE,t[S.DATA_SDK_INTEGRATION_SOURCE]=S.DATA_LIBRARY_VALUE,t[A]="".concat(G(n)),t)),loadingStatus:s?l.INITIAL:l.PENDING}),c=u[0],d=u[1];return p.useEffect(function(){if(s===!1&&c.loadingStatus===l.INITIAL)return d({type:f.LOADING_STATUS,value:l.PENDING});if(c.loadingStatus===l.PENDING){var v=!0;return ue(c.options).then(function(){v&&d({type:f.LOADING_STATUS,value:l.RESOLVED})}).catch(function(g){console.error("".concat(z," ").concat(g)),v&&d({type:f.LOADING_STATUS,value:{state:l.REJECTED,message:String(g)}})}),function(){v=!1}}},[c.options,s,c.loadingStatus]),R.createElement(q.Provider,{value:i(i({},c),{dispatch:d})},o)};function L(){}p.createContext({cardFieldsForm:null,fields:{},registerField:L,unregisterField:L});const ve=()=>j.jsx(le,{options:{"client-id":"AbJs6uz_oSSW55ZOVT9lnuBW-Fh66kEOljGXccIiE2wUuKekZAjBd4RgyZM6mCxsHuctKOvQwxP9yVVq",vault:!0,intent:"subscription"},children:j.jsx(_,{createSubscription:(e,t)=>t.subscription.create({plan_id:"P-5HX00477RR628964XM3QTP6I"}),onApprove:(e,t)=>{alert("Subscription created successfully! Subscription ID: "+e.subscriptionID)},style:{layout:"vertical",color:"blue",shape:"pill",label:"subscribe"}})});export{ve as default};
